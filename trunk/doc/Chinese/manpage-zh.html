<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<HTML>
<HEAD>
<STYLE>body{margin:3em;} pre{background:#ffc;}</STYLE>
<META NAME="generator" CONTENT="http://txt2tags.org">
<META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=utf-8">
<TITLE>TXT2TAGS</TITLE>
</HEAD><BODY BGCOLOR="white" TEXT="black">
<CENTER>
<H1>TXT2TAGS</H1>
<FONT SIZE="4">2010年8月</FONT>
</CENTER>

<P></P>
<HR NOSHADE SIZE=1>
<P></P>

  <UL>
  <LI><A HREF="#name">名称</A>
  <LI><A HREF="#synopsis">总览</A>
  <LI><A HREF="#description">描述</A>
  <LI><A HREF="#markup">标记</A>
  <LI><A HREF="#options">选项</A>
  <LI><A HREF="#source">源文件</A>
  <LI><A HREF="#settings">配置</A>
  <LI><A HREF="#commands">指令</A>
  <LI><A HREF="#macros">宏</A>
  <LI><A HREF="#examples">示例</A>
  <LI><A HREF="#files">文件</A>
  <LI><A HREF="#environment">环境</A>
  <LI><A HREF="#author">作者</A>
  <LI><A HREF="#bugs">缺陷</A>
  <LI><A HREF="#copyright">版权</A>
  </UL>

<P></P>
<HR NOSHADE SIZE=1>
<P></P>

<A NAME="name"></A>
<H1>名称</H1>

<P>
txt2tags - 文本格式化及转换工具 
</P>

<A NAME="synopsis"></A>
<H1>总览</H1>

<P>
<B>txt2tags</B> [<I>选项</I>] [<I>文件</I>...]
</P>

<A NAME="description"></A>
<H1>描述</H1>

<P>
<B>txt2tags</B> 读入含少量标记的文本，并将其转换为多种格式的文档：
<I>ASCII Art</I>,
<I>AsciiDoc</I>,
<I>Creole</I>,
<I>DocBook</I>,
<I>DokuWiki</I>,
<I>Google Code Wiki</I>,
<I>HTML</I>,
<I>LaTeX</I>,
<I>Lout</I>,
<I>MagicPoint</I>,
<I>Man page</I>,
<I>MoinMoin</I>,
<I>PageMaker</I>,
<I>Plain Text</I>,
<I>PmWiki</I>,
<I>SGML</I>,
<I>Wikipedia</I> 和
<I>XHTML</I>.
</P>
<P>
此手册页是由<B>txt2tags</B>转换一个示例文本文件生成。并且该示例文本文件同时被转换成HTML，作为此手册页的在线版本。
</P>
<P>
单个源文件，多种格式的目标文件 - <A HREF="http://txt2tags.org">http://txt2tags.org</A>
</P>

<A NAME="markup"></A>
<H1>标记</H1>

<PRE>
  头部                源文件的前3行
  标题                = 文字 =
  带数字编号的标题    + 文字 +
  注释                % 注释内容
  隔离行              -----------------------...
  粗隔离行            =======================...
  图片                [filename.jpg]
  链接                [标签 url地址]
  
  粗体                **文字**
  斜体                //文字//
  下划线              __文字__
  删除线              --文字--
  等宽                ``文字``
  原始文本            ""文字""
  标记文本            ''文字''
  
  段落                文字
  引用                &lt;TAB&gt;文字
  列表                 - 文字
  带编号的列表        + 文字
  定义式列表          : 文字
  表格                | 单元格1 | 单元格2 | 单元格3...
  
  完全引用行          ``` 文字
  原文引用行          """ 文字
  标记引用行          ''' 文字
  
  完全引用块          ```
                      多行文本
                      ```
  原文引用块          """
                      多行文本
                      """
  标记引用块          '''
                      多行文本
                      '''
</PRE>

<A NAME="options"></A>
<H1>选项</H1>

<DL>
<DT>    <B>--art-chars</B>=<I>PATTERN</I></DT><DD>
定义<I>PATTERN</I>为组成ASCII艺术字的字符模板，按以下顺序指定：
拐角，边框，侧面，一级块，二级块，二级水平线，三级水平线，四级水平线，五级水平线。
默认的模板是 +-|-==-^"。此选项只在输出目标格式为艺术ASCII时可用。
<P></P>
<DT><B>-C</B>, <B>--config-file</B>=<I>FILE</I></DT><DD>
从外部文件<I>FILE</I>中读入配置。配置项格式为<I>%!关键字:取值</I>，详情请见
<A HREF="#settings">配置</A> 小节。
<P></P>
<DT>    <B>--css-sugar</B></DT><DD>
优化生成的嵌入CSS样式HTML/XHTML内容。移除标签属性，禁用样式属性，头部内容由H1、H2和H3组成，新建以下DIV：
<I>#header</I>, <I>#body</I>, <I>.toc</I>。
<P></P>
<DT>    <B>--css-inside</B></DT><DD>
在HTML/XHTML头部嵌入CSS文件的内容。使用<CODE>--style</CODE>指定读入的CSS文件。
<P></P>
<DT>    <B>--dump-config</B></DT><DD>
输出所有配置项后退出。
<P></P>
<DT>    <B>--dump-source</B></DT><DD>
输出文档源文件，并展开 (<CODE>%!include</CODE>) 中的内容。
<P></P>
<DT>    <B>--encoding</B>=<I>CODE</I></DT><DD>
设置源文件转换成目标<I>CODE</I>时采用的字符集。例如 UTF-8 and iso-8859-1。
<P></P>
<DT>    <B>--gui</B></DT><DD>
启动TK图形界面。
<P></P>
<DT><B>-h</B>, <B>--help</B></DT><DD>
输出帮助信息后退出。
<P></P>
<DT><B>-H</B>, <B>--no-headers</B></DT><DD>
输出内容时不显示头部、尾部信息，只显示主体内容。
<P></P>
<DT>    <B>--headers</B></DT><DD>
输出内容时显示头部、尾部信息。此选项默认打开。
<P></P>
<DT>    <B>--height</B>=<I>NUM</I></DT><DD>
设置输出内容为<I>NUM</I>行。此选项只在目标文档格式为艺术ASCII、且指定<CODE>--slides</CODE>时可用。
<P></P>
<DT><B>-i</B>, <B>--infile</B>=<I>FILE</I></DT><DD>
指定<I>FILE</I>为输入的源文件名。如果指定为'-'，则从STDIN读入源文本。
<P></P>
<DT>    <B>--mask-email</B></DT><DD>
隐藏邮件地址，以防止垃圾邮件地址收割。移除@和.。邮件地址
foo@bar.com 被转换为 &lt;foo (a) bar com&gt;。
<P></P>
<DT><B>-n</B>, <B>--enum-title</B></DT><DD>
对所有标题行进行自动编号。显示的前缀为 1, 1.1, 1.1.1, ... 
<P></P>
<DT>    <B>--no-dump-config</B></DT><DD>
取消<CODE>--dump-config</CODE>动作。
<P></P>
<DT>    <B>--no-dump-source</B></DT><DD>
取消<CODE>--dump-source</CODE>动作。
<P></P>
<DT>    <B>--no-encoding</B></DT><DD>
清除encoding设置。
<P></P>
<DT>    <B>--no-enum-title</B></DT><DD>
关闭标题自动编号的设置。
<P></P>
<DT>    <B>--no-infile</B></DT><DD>
清除之前所有infile的声明。
<P></P>
<DT>    <B>--no-targets</B></DT><DD>
取消<CODE>--targets</CODE>动作。
<P></P>
<DT>    <B>--no-mask-email</B></DT><DD>
关闭隐藏邮件地址的特性。
<P></P>
<DT>    <B>--no-outfile</B></DT><DD>
清除之前所有outfile的声明。
<P></P>
<DT>    <B>--no-quiet</B></DT><DD>
输出消息，关闭--quiet选项。
<P></P>
<DT>    <B>--no-rc</B></DT><DD>
不读入用户配置文件~/.txt2tagsrc。
<P></P>
<DT>    <B>--no-slides</B></DT><DD>
关闭演示文档特性。
<P></P>
<DT>    <B>--no-style</B></DT><DD>
清除所有样式设置。
<P></P>
<DT>    <B>--no-toc</B></DT><DD>
不输出目录。
<P></P>
<DT>    <B>--no-toc-only</B></DT><DD>
关闭<CODE>--toc-only</CODE>动作。
<P></P>
<DT><B>-o</B>, <B>--outfile</B>=<I>FILE</I></DT><DD>
指定输出的文件名为<I>FILE</I>。指定'-'则将结果输出到STDOUT。
<P></P>
<DT><B>-q</B>, <B>--quiet</B></DT><DD>
安静模式。关闭除了错误之外的所有其他消息输出。
<P></P>
<DT>    <B>--rc</B></DT><DD>
读入用户配置文件~/.txt2tagsrc。此选项默认打开。
<P></P>
<DT>    <B>--slides</B></DT><DD>
指定输出格式为演示文档，此选项只在输出目标格式为艺术ASCII时可用。
<P></P>
<DT>    <B>--style</B>=<I>FILE</I></DT><DD>
指定<I>FILE</I>作为目标文档的样式文件。用于指定HTML/XHTML文档使用的CSS文件，LaTeX文档使用的样式包。此选项可以多次使用，以指定多个样式文件。
<P></P>
<DT><B>-t</B>, <B>--target</B>=<I>TYPE</I></DT><DD>
指定输出目标文档的类型为<I>TYPE</I>。一些常用的类型为：<I>html</I>, <I>xhtml</I>, <I>tex</I>, <I>man</I>, <I>txt</I>。使用<CODE>--targets</CODE>选项查看所有支持的目标文档类型。
<P></P>
<DT>    <B>--targets</B></DT><DD>
输出所有可用的目标文档类型后退出。
<P></P>
<DT>    <B>--toc</B></DT><DD>
在输出内容中包含自动生成的目录信息，置于头部内容和主体内容之间。也可以
通过`%%TOC``宏显示指定目录输出位置。 
<P></P>
<DT>    <B>--toc-level</B>=<I>NUM</I></DT><DD>
指定目录最大深度为<I>NUM</I>。所有比<I>NUM</I>深的标题不会在目录中显示。
<P></P>
<DT>    <B>--toc-only</B></DT><DD>
输出目录后退出。
<P></P>
<DT><B>-v</B>, <B>--verbose</B></DT><DD>
在文档转换过程中输出详细的信息。此选项可以多次使用，以提高输出的消息量。
<P></P>
<DT><B>-V</B>, <B>--version</B></DT><DD>
输出程序版本后退出。
<P></P>
<DT>    <B>--width</B>=<I>NUM</I></DT><DD>
设置输出的宽度为<I>NUM</I>，此选项只在输出目标格式为艺术ASCII时可用。
</DL>

<A NAME="source"></A>
<H1>源文件</H1>

<P>
源文件扩展名一般为<I>.t2t</I> (例如 <CODE>myfile.t2t</CODE>)。可以在以下三个区域指定源文件：
</P>

<DL>
<DT><B>头部</B> (可选)</DT><DD>
源文件的前三行。如果不需要头部信息，则源文件首行留空。
用于指定文档标题、作者、版本和日期信息。
<P></P>
<DT><B>配置</B> (可选)</DT><DD>
紧接在头部信息之后（第4行或第2行），在主体内容之前结束。
用于指定各种配置项，格式为<CODE>%!关键字:取值</CODE>。
<P></P>
<DT><B>主体</B></DT><DD>
从头部区域之后的第一个有效文本行开始（非注释或配置），直至源文件结束。
用于指定文档内容。
</DL>

<A NAME="settings"></A>
<H1>配置</H1>

<P>
配置用于定制<B>txt2tags</B>，与选项类似。配置项可以在源文件的配置区域，<CODE>~/.txt2tagsrc</CODE>文件，<CODE>--config-file</CODE>指定的外部文件中指定。
</P>

<DL>
<DT><B>%!target</B></DT><DD>
配置输出目标文档类型，功能与<CODE>--target</CODE>相同。举例：

<PRE>
  %!target: html
</PRE>

<P></P>
<DT><B>%!options(target)</B></DT><DD>
设置该目标类型（target）文档的默认选项。必须以命令行的形式调用。举例：

<PRE>
  %!options(html): --toc --toc-level 3 --css-sugar
</PRE>

<P></P>
<DT><B>%!includeconf</B></DT><DD>
指定读入外部文件中包含的配置项，功能与<CODE>--config-file</CODE>相同。举例：

<PRE>
  %!includeconf: myconfig.t2t
</PRE>

<P></P>
<DT><B>%!style</B></DT><DD>
为目标文档指定样式文件，功能与<CODE>--style</CODE>相同。可以多次使用。举例：

<PRE>
  %!style: colors.css
</PRE>

<P></P>
<DT><B>%!encoding</B></DT><DD>
指定目标文档使用的字符集，功能与<CODE>--encoding</CODE>相同。举例：

<PRE>
  %!encoding: UTF-8
</PRE>

<P></P>
<DT><B>%!preproc</B></DT><DD>
指定查找/替换的过滤器，在txt2tags解析源文档之前，改变源文档的内容。格式采用Python正则表达式。举例：

<PRE>
  %!preproc:  "JJS"  "John J. Smith"
</PRE>

<P></P>
<DT><B>%!postproc</B></DT><DD>
指定查找/替换的过滤器，在txt2tags转换源文档之后，改变目标文档的内容。格式采用Python正则表达式。举例：

<PRE>
  %!postproc(html):  "&lt;B&gt;"  "&lt;STRONG&gt;"
</PRE>

</DL>

<P>
如果同一个关键字多次出现，则以最后的取值为准（options, preproc and postproc是累计的除外）。异常关键字被忽略。解析顺序为：<CODE>~/.txt2tagsrc</CODE>，源文档的配置区域，<CODE>--config-file</CODE>命令行选项。
</P>

<A NAME="commands"></A>
<H1>指令</H1>

<P>
指令在文本转换过程中生效。指令必须在源文件主体内容中指定。
</P>

<DL>
<DT><B>%!csv: file.csv</B></DT><DD>
读入一个外部的CSV文件，作为表格。
<P></P>
<DT><B>%!include: file.t2t</B></DT><DD>
读入一个txt2tags文件。
<P></P>
<DT><B>%!include: ``file.txt``</B></DT><DD>
读入一个文本文件的内容，作为源文件的“原文引用块”。
<P></P>
<DT><B>%!include: ''file.html''</B></DT><DD>
读入一个标签文件内容到目标文档。
</DL>

<A NAME="macros"></A>
<H1>宏</H1>

<P>
使用宏很容易在文档中插入动态内容。宏必须在源文件的主体内容中指定。
除了<CODE>%%toc</CODE>，所有宏都能够用修饰符指定格式，例如<CODE>%Y</CODE>和<CODE>%f</CODE>。详情请查看txt2tags用户指南。
</P>

<DL>
<DT><B>%%date</B></DT><DD>
插入当前日期。默认格式是<CODE>%%date(%Y%m%d)</CODE>，输出YYYYMMDD。
<P></P>
<DT><B>%%infile</B></DT><DD>
插入源文件所在路径。默认格式是<CODE>%%infile(%f)</CODE>。常用尾部链接举例：<CODE>[查看源文件 %%infile]</CODE>。
<P></P>
<DT><B>%%mtime</B></DT><DD>
插入源文件修改时间。默认格式是<CODE>%%date(%Y%m%d)</CODE>，输出YYYYMMDD。
<P></P>
<DT><B>%%outfile</B></DT><DD>
输出目标文档所在路径。默认格式是<CODE>%%outfile(%f)</CODE>。常用的自引用形式举例："这是 manpage-zh.html 文件"。
<P></P>
<DT><B>%%toc</B></DT><DD>
指定目录信息所在位置。可以多次使用。注意同时指定<CODE>--toc</CODE>选项。
</DL>

<A NAME="examples"></A>
<H1>示例</H1>

<DL>
<DT><CODE>txt2tags -t html file.t2t</CODE></DT><DD>
<P></P>
转换成HTML，将转换的结果输出到文件file.html。
<P></P>
<DT><CODE>txt2tags -t html -o - file.t2t</CODE></DT><DD>
<P></P>
转换成HTML，将转换的结果输出到STDOUT。
<P></P>
<DT><CODE>txt2tags -t html --toc file.t2t</CODE></DT><DD>
<P></P>
转换成HTML，包含自动生成的目录。
<P></P>
<DT><CODE>txt2tags -t html --toc --toc-level 2 -n file.t2t</CODE></DT><DD>
<P></P>
转换成HTML，并生成目录，目录深度为2，各项标题采用数字编号。
<P></P>
<DT><CODE>txt2tags --toc-only file.t2t</CODE></DT><DD>
<P></P>
只输出目录，不进行实际的转换。
<P></P>
<DT><CODE>txt2tags -t html --css-sugar --style base.css --style ui.css file.t2t</CODE></DT><DD>
<P></P>
转换成HTML，并预先设置采用CSS，同时指定引用两个外部CSS文件。
<P></P>
<DT><CODE>txt2tags -t art --slides --width 80 --height 25 -o - file.t2t | more</CODE></DT><DD>
<P></P>
生成艺术ASCII演示文档，用于在80x25的屏幕或窗口上演示。
<P></P>
<DT><CODE>(echo ; echo "**bold**") | txt2tags -t html -H -</CODE></DT><DD>
<P></P>
易用的单行指令，从STDIN读取内容做快速的测试。
<P></P>
<DT><CODE>txt2tags -t html -o - file.t2t | tidy &gt; file.html</CODE></DT><DD>
<P></P>
将转换的结果输出到STDOUT，然后调用外部程序优化结果代码，最终保存到文件。
</DL>

<A NAME="files"></A>
<H1>文件</H1>

<DL>
<DT>~/.txt2tagsrc</DT><DD>
用户默认配置文件。
</DL>

<A NAME="environment"></A>
<H1>环境</H1>

<DL>
<DT>T2TCONFIG</DT><DD>
该值设置用户默认配置文件的绝对路径。
</DL>

<A NAME="author"></A>
<H1>作者</H1>

<P>
原文由Aurelio Jargas &lt;&lt;verde (a) aurelio net&gt;&gt;编写。
</P>
<P>
中文版由Abby Pan &lt;&lt;abbypan (a) gmail com&gt;&gt;翻译。
</P>

<A NAME="bugs"></A>
<H1>缺陷</H1>

<P>
<A HREF="http://bugs.txt2tags.org">http://bugs.txt2tags.org</A>
</P>

<A NAME="copyright"></A>
<H1>版权</H1>

<P>
Copyright (C) 2001-2010 Aurelio Jargas, GNU GPL v2
</P>

<!-- html code generated by txt2tags 2.6 (http://txt2tags.org) -->
<!-- cmdline: txt2tags -t html doc/Chinese/manpage-zh.t2t -->
</BODY></HTML>
