#! /usr/bin/env python
#
# dynartslides, a dynamic art slides generator for txt2tags
#
# Copyright (C) 2010, Florent Gallaire <fgallaire@gmail.com>
# License GNU GPLv3
#

import os, sys, fcntl, termios, struct

if len(sys.argv) < 2:
    print "Please, we need one file as argument."
else:
    if os.name == 'posix':
        data = fcntl.ioctl(sys.stdout.fileno(), termios.TIOCGWINSZ, '12345678') 
        lines, columns = struct.unpack('HHHH',data)[:2]
        command = 'txt2tags --slides --width=%s --height=%s -t art %s'%(columns, lines, " ".join(sys.argv[1:]))
        print command
        os.system(command)
    else:
        print "Dynamic capacities are not available on your system."
